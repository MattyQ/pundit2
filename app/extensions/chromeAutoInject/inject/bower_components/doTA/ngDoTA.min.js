var doTA=function(){function e(e){return-1===e.indexOf("&")?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"')}function t(t){var n,i={},o=t.indexOf(" ");if(-1!==o){n=t.slice(0,o);for(var r=t.length;++o<r;){var c=t.indexOf("=",o);if(-1===c){i[t.slice(o)]="";break}var o=t.slice(o,c),l=t[c+1];if('"'===l||"'"===l)l=t.indexOf(l,c+2),c=t.slice(c+2,l),i[o]=e(c),o=l+1;else{if(l=t.indexOf(" ",c+2),-1===l){c=t.slice(c+1),i[o]=e(c);break}c=t.slice(c+1,l),i[o]=e(c),o=l}}}else n=t;return[n,i]}function n(e,n){if(e){var i=0,o=e.indexOf("<");do if("<"===e.charAt(o))o++,"/"===e.charAt(o)?(i=++o,o=e.indexOf(">",i),n.onclosetag(e.substring(i,o))):"!"===e.charAt(o)?(i=o,o=e.indexOf(">",i),n.oncomment(e.substring(i,o))):(i=o,o=e.indexOf(">",i),n.onopentag.apply(this,t(e.substring(i,o))));else{if(">"!==e.charAt(o))break;i=++o,o=e.indexOf("<",i),o>i&&n.ontext(e.substring(i,o))}while(o>0)}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.prototype.watch&&(delete Object.prototype.watch,delete Object.prototype.unwatch);var i=/('[^']+'|"[^"]+"|[\w$]+)\s*:\s*((?:[$.\w]+|\([^)]+\)|[^},])+)/g,o=/'[^']*'|"[^"]*"|[\w$]+|[^\w$'"]+/g,r=/"[^"]*"|'[^']*'/g,c=/\s{2,}|\n/g,l=/\b([\w_-]+=)"([^"'\s]+)"(?=[\s>])/g,d=/^(?:input|img|br|hr)/i,a=/^(?:src|alt|title|href)/,s=/^(?:checked|selected|disabled)/,f=/\$index/g,u=0,p={diff:function(e,t){var n,i=doTA.H[e],o=0,r=i.indexOf("<"),c=0,l=t.indexOf("<");do if("<"===i.charAt(r))if(r++,l++,"/"===i.charAt(r)||"!"===i.charAt(r))r=i.indexOf(">",r),l=t.indexOf(">",l);else if(o=r,c=l,r=i.indexOf(">",o),l=t.indexOf(">",c),n=i.substring(o,r),c=t.substring(c,l),n!==c)e:{var d=o=void 0,a=n.indexOf(" "),s=void 0,f=void 0,u=void 0,p=void 0,u=void 0,f=0,g=void 0,h=void 0,s=void 0,b=n.length;if(-1!==a)for(;++a<b&&(s=n.indexOf("=",a),-1!==s);)if(g=n.slice(a,s),u=n[s+1],'"'===u||"'"===u){if(p=n.indexOf(u,s+2),h=n.slice(s+2,p),"id"===g)o=h;else if(f=s+f,u=c.indexOf(u,f+2),s=c.slice(f+2,u),f=u-p,h!==s){if(!d&&(d=document.getElementById(o),!d)){n=void 0;break e}d.setAttribute(g,s)}a=p+1}else{if(p=n.indexOf(" ",s+2),-1===p){o||(h=n.slice(s+1),"id"===g&&(o=h));break}o||(h=n.slice(s+1,p),"id"===g&&(o=h)),a=p}n=o}else c=n.indexOf(" id="),o=void 0,c>=0&&(c+=4,o=n.charAt(c),"'"===o||'"'===o?(c++,o=n.indexOf(o,c+1)):(o=n.indexOf(" ",c),-1===o&&(o=n.indexOf(">",c),-1===o&&(o=n.length)))),n=n.substring(c,o);else">"===i.charAt(r)&&(o=++r,c=++l,r=i.indexOf("<",o),l=t.indexOf("<",c),l>c&&(o=i.substring(o,r),c=t.substring(c,l),o!==c&&(o=document.getElementById(n))&&o.firstChild&&3===o.firstChild.nodeType&&(o.firstChild.nodeValue=c)));while(r>0)},CH:{},initCH:function(e){this.CH=e},compile:function(e,t){function p(e){if(e){e=e.match(o);for(var t="",n=0;n<e.length;n++)if(!(0<="_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[n].charAt(0)))||$[e[n]]||n&&"."===e[n-1][e[n-1].length-1])if(0<=e[n].indexOf("$index")){for(var i=A;i>=0;i--)if(T[i]){t+=e[n].replace(f,T[i]);break}}else t+=e[n];else t+="S."+e[n];return t}return e}function g(e){var t=e.indexOf("'");if(t>=0){var n="",i=0;do n+=e.substring(i,t),"\\"!==e.charAt(t-1)&&(n+="\\"),i=t,t=e.indexOf("'",i+1);while(t>0);return n+=e.substr(i)}return e}function h(e){var t=e.indexOf("{{");if(t>=0){var n=0,i="";do n=e.substring(n,t),i+=g(n),n=t+2,t=e.indexOf("}}",n),n=e.substring(n,t),i+="'+("+b(n)+C+")+'",n=t+2,t=e.indexOf("{{",n);while(t>0);return i+=g(e.substr(n))}return g(e)}function b(e){if(-1===e.indexOf("|"))return p(e);var t=e.indexOf("|");if(-1===t)e=[e];else{for(var n=0,i=[];-1!==t;)"|"===e.charAt(t+1)?t+=2:(i.push(e.substring(n,t)),n=++t),t=e.indexOf("|",t);n<e.length&&i.push(e.substring(n)),e=i}for(var o,t=p(e[0]),n=0,r=1;r<e.length;r++)if(o=e[r],i=o.indexOf(":"),i>0){for(t="F('"+o.slice(n,i).trim()+"')("+t,n=++i,i=o.indexOf(":",n);i>0;)t+=","+p(o.slice(n,i)),n=++i,i=o.indexOf(":",n);t+=","+p(o.substr(n)),t+=")"}else t="F('"+e[r].trim()+"')("+t+")";return t}t=t||{};var m,v,x,O,C=t.loose?"||''":"",w=t.watchDiff,$={$index:1,undefined:1,$attr:1},A=0,y={},T={},k={},D=this.CH[t.dotaRender]||u++,H={};this.CH[t.dotaRender]=D;var R="'use strict';var "+(w?"N=0,J="+D+",":"")+"R='';";e=e.replace(c," "),t.encode&&(e=e.replace(r,function(e){return e.replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})})),n(e,{onopentag:function(e,n){var o,r,c={},l="";if(n["dota-pass"]?(v=A,x=0):n["dota-continue"]&&(x=A),!v||x){if(n["ng-repeat"]){y[A]=y[A]?y[A]+1:1;var u,g,O="i"+A,C="l"+A,q=n["ng-repeat"],I=q.indexOf(" in "),W=q.substr(0,I),q=q.substr(I+4),I=W.indexOf(","),E=q.indexOf("|");T[A]=O,E>0?u=b(q):(g=q.indexOf(":"),0>g&&(u=p(q))),g>0?(u=q.substr(0,g),O=q.indexOf(":",++g),O>0?(g=q.substring(g,O),q=q.substr(O+1)):(g=q.substr(g),q=1),R+="for(var "+W+"="+u+";"+W+(q>0?"<":">")+g+";"+W+"+="+q+"){",$[W]=1):I>0?(g=W.substr(0,I),W=W.substr(I+1),R+="var D"+A+"="+u+";",R+="for(var "+g+" in D"+A+"){",R+="var "+W+" = D"+A+"["+g+"]; ",$[g]=$[W]=1):(R+="var D"+A+"="+u+","+O+"=-1,"+C+"=D"+A+".length;",R+="while(++"+O+"<"+C+"){",R+="var "+W+"=D"+A+"["+O+"]; ",$[W]=1),delete n["ng-repeat"]}if(n["ng-if"]&&((n.wait||n.watch)&&(o=1,R+=(m?"":"var "+(w?"":"N=0,")+"T=this;T.W=[];")+'var W={I:"'+D+'."+ ++N,W:"'+n["ng-if"]+'"'+(n.wait?",O:1":"")+"};T.W.push(W);",k[A]=m=1,R+='W.F=function(S,F,$attr,X){var R="";',delete n.watch,delete n.wait),y[A]=y[A]?y[A]+1:1,R+="if("+p(n["ng-if"])+"){",delete n["ng-if"]),n["ng-init"]&&(R+=p(n["ng-init"])+"; ",delete n["ng-init"]),n["ng-class"]){for(r=p(n["ng-class"]),n["class"]=n["class"]?h(n["class"]):"";null!==(W=i.exec(r));)n["class"]+="'+("+W[2]+"?'"+(n["class"]?" ":"")+W[1].replace(/['"]/g,"")+"':'')+'";n["class"]=n["class"].replace(/\+''\+/g,"+"),r=1,delete n["ng-class"]}for(var N in n)"ng-"===N.substr(0,3)&&(W=N.substr(3),a.test(W)?(n[W]=n[N],delete n[N]):t.event&&0<=" change click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste ".indexOf(" "+W+" ")?(n.de="1",n["de-"+W]=n[N],delete n[N]):s.test(W)&&(l+="'+("+p(n[N])+"?' "+W+"=\"\"':'')+'",delete n[N]))}for(N in n)if(c[N]=r&&"class"===N?n[N]:h(n[N]),0<=c[N].indexOf("$index"))for(W=A;W>=0;W--)if(T[W]){c[N]=c[N].replace(f,"'+"+T[W]+"+'");break}R+="R+='<"+e,(w||o)&&(o=H[D+"."+A]=c.id||D+".'+N+'",R+=' id="'+o+'"',c.id&&delete c.id);for(var S in c)R+=" "+S+'="'+c[S]+'"';if(R+=l+">';",w&&(R+="N++; "),n["dota-render"]&&n.expand){c=[];for(N in n)N.indexOf("data-")?N.indexOf("scope-")||c.push('"'+N.slice(6)+'":S["'+n[N]+'"]'):c.push('"'+N.slice(5)+'":"'+n[N]+'"');R+="var P={"+c.join(",")+'},U="'+n["dota-render"]+'";',R+="doTA.C[U]&&!doTA.D[U]&&(R+=doTA.C[U](S,F,P,X)); "}d.test(e)?0<y[A]&&(R+="}",y[A]--,T[A]=0):A++},onclosetag:function(e){for(A--,R+="R+='</"+e+">';",k[A]&&(R+="} else {",R+="R+='<"+e+" id="+H[D+"."+A]+" style=display:none></"+e+">'; ");0<y[A];)R+="}",y[A]--,T[A]=0;k[A]&&(R+="return R;}; ",R+="R+=W.F(S,F,$attr,X); ",k[A]=0),v&&v>=A&&(v=0)},ontext:function(e){R+=("R+='"+h(e)+"';").replace(/\+''|''\+/g,"")},oncomment:function(e){R+="R+='<"+h(e)+">';"}}),w&&(R+="if(X&&J in doTA.H){doTA.diff(J,R)}doTA.H[J]=R;"),R+="return R;",R=R.replace(/;R\+=/g,"+").replace(/'\+'/g,""),t.optimize&&(R=R.replace(l,"$1$2")),t.debug&&console.log(R);try{O=new Function("S","F","$attr","X",R),m&&(O={W:[],F:O})}catch(q){throw"undefined"!=typeof console&&console.log("doTA compile error:"+R),q}return R=A=y=T=$=v=null,O},C:{},D:{},H:{}};return p.compile('<div class="x {{x}}" ng-class="{x:1}" ng-repeat="x in y" ng-if="x">x{{x}}</div><!--x-->',{watchDiff:1}),p}();if("undefined"!=typeof module&&module.exports)module.exports=doTA;else if("undefined"==typeof console){var noop=function(){};console={log:noop,time:noop,timeEnd:noop}}!function(B,w){function K(e,t){return e in L?L[e]:e||t}function N(e,t,n){if(e.forEach)return e.forEach(t);for(var i=0,o=e.length;o>i;i++)i in e&&t.call(n,e[i],i);return e}function Q(e){e=e.firstChild;var t=[];if(e)for(e.hidden=1,t.push(e);e=e.nextSibling;)e.hidden=1,t.push(e);setTimeout(function(){N(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})})}function O(e,t,n){N(e.querySelectorAll("[de]"),function(e){for(var n=e.attributes,i=0,o=n.length;o>i;i++)"de-"===n[i].name.substr(0,3)&&e.addEventListener(n[i].name.substr(3),function(e,n){return function(e){e.preventDefault(),e.stopPropagation(),t.$evalAsync(n.value,{$event:e})}}(e,n[i]))})}var R=w.documentMode,C;setTimeout(function(){w.getElementById&&(C=w.getElementById("dota-cache"),!C&&w.body&&(C=w.createElement("div"),C.id="dota-cache",C.style.display="none",w.body.appendChild(C)))});var L={0:0,"false":0};B.module("doTA",[]).config(["$provide",function(e){e.factory("doTA",function(){return doTA.addEvents=O,doTA})}]).directive("dotaRender",["doTA","$http","$filter","$templateCache","$compile","$controller",function(c,n,u,p,h,f){return{restrict:"A",priority:1e3,terminal:!0,controller:B.noop,link:B.noop,compile:function(){var S,g;return function(a,l,b){function L(){a.$on("$destroy",function(){C&&(c.D[q]=l[0],C.appendChild(l[0]))})}function m(e){try{var t=c.compile(e,b)}catch(n){throw console.log("compile error",b,e),n}return q&&(c.C[q]=t),t}function D(b,c){if((Y||J)&&(S&&g.$destroy(),g=a.$new(),S=1,J)){var k=f(J,{$scope:g});l.data("$ngControllerController",k)}if(b){!c&&l[0].firstChild&&Q(l[0]);try{var m=b.F?b.F(g,u,A,c):b(g,u,A,c)}catch(n){throw console.log("render error",b),n}if(c)return;if(l[0].firstChild)for(k=w.createElement("div"),k.innerHTML=m;m=k.firstChild;)l[0].appendChild(m);else l[0].innerHTML=m}if(z&&O(l[0],g,q),d?N(l[0].querySelectorAll("[dota-pass]"),function(e){h(e)(g)}):P&&h(l.contents())(g),T&&setTimeout(function(){eval(T)}),e&&setTimeout(function(){g.$evalAsync(e)}),r&&L(),Z&&l.attr("loaded",!0),b&&b.W)for(var p={},v={},m=0;m<b.W.length;m++)k=b.W[m],v[k.I]=g.$watch(k.W,function(e){return function(t,n){var i=w.getElementById(e.I);if(!i)return console.log("tag not found");var o=e.F(g,u,A);return o?(o=B.element(o),p[e.I]&&p[e.I].$destroy(),p[e.I]=g.$new(),(d||P)&&h(o)(p[e.I]),B.element(i).replaceWith(o),void(e.O&&v[e.I]())):console.log("no contents")}}(k))}function k(){c.C[q]?l[0].hasChildNodes()&&!U?D():D(c.C[q]):U?D(m(l[0].innerHTML,b)):q&&(l[0].hasChildNodes()?D():n.get(q,{cache:p}).success(function(e){D(m(e,b))}))}g=a;var r=b.cacheDom,q=b.dotaRender,Y=b.scope,J=b.ngController,x=b.loose,E=b.optimize,z=b.event,I=b.debug,G=b.watch,d=b.compile,P=b.compileAll,T=b.dotaOnload,e=b.dotaOnloadScope,Z=b.loaded,U=b.inline,V=b.watchDiff,W=b.$attr,x=b.loose=K(x,1),E=b.optimize=K(E,0),I=b.debug=K(I,0),z=b.event=K(z,1),G=b.watch="string"==typeof G?G:0,A={};if(r&&c.D[q])G=R?c.D[q].cloneNode(!0):c.D[q],l[0].parentNode.replaceChild(G,l[0]);else{for(var H in W)x=W[H],x.indexOf("data-")?x.indexOf("scope-")||(A[x.slice(6)]=0<=b[H].indexOf(".")||0<=b[H].indexOf("[")?a.$eval(b[H]):a[b[H]]):A[H]=b[H];G&&g.$watchCollection(G,function(e,t){e!==t&&c.C[q]&&D(c.C[q])}),V&&g.$watchCollection(V,function(e,t){e!==t&&c.C[q]&&D(c.C[q],!0)}),k()}}}}}]).directive("dotaInclude",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){e.get(r.dotaInclude,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})}}}}]).directive("dotaTemplate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"A",priority:1e3,terminal:!0,compile:function(){return function(i,o,r){i.$watch(r.dotaTemplate,function(c,l){c&&e.get(c,{cache:t}).success(function(e){o.html(e),"false"!==r.compile&&n(o.contents())(i)})})}}}}]).factory("dotaHttp",["$compile","$http","$templateCache","$filter","doTA",function(e,t,n,i,o){return function(e,r,c,l){l=l||{},l.loose=1,o.C[e]?c(o.C[e](r,i)):t.get(e,{cache:n}).success(function(t){o.C[e]=o.compile(t,l),c(o.C[e](r,i))})}}])}(window.angular,window.document);